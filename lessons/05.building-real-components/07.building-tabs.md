# ðŸ›  Building a Tabbed interface

Tabbed interfaces behave like tabbed folders in a file. They're great for categorizing content and showing only parts that are relevant to the user at any point in time.

The tabbed interface you're building looks like this:

<figure>
  <img src="../../images/components/tabs/basic-complete.gif" alt="Completed tab">
  <figcaption>Completed tab</figcaption>
</figure>

Before continuing, make sure you grab the starter files in the Github repo, under `components/04.tabs/01.starter`.

## Building the tabbed interface

A tabbed interface consist of two parts â€“ the tabs and the tab content.

<figure>
  <img src="/images/2017/" alt="">
  <figcaption></figcaption>
</figure>

Your HTML structure should be similar to this:

```html
<div class="tab-component">
  <ul class="tabs">
    <li class="tab"><a href="#">Tab 1</a></li>
    <li class="tab"><a href="#">Tab 2</a></li>
    <li class="tab"><a href="#">Tab 3</a></li>
  </ul>

  <section class="tab-content">Content 1</section>
  <section class="tab-content">Content 2</section>
  <section class="tab-content">Content 3</section>
</div>
```

One tab should be active at any time, so let's add the `is-active` class to the HTML right away.

```html
<div class="tab-component">
  <ul>
    <li class="tab is-active"><a href="#">Tab 1</a></li>
    <li class="tab"><a href="#">Tab 2</a></li>
    <li class="tab"><a href="#">Tab 3</a></li>
  </ul>

  <section class="tab-content is-active">Content 1</section>
  <section class="tab-content">Content 2</section>
  <section class="tab-content">Content 3</section>
</div>
```

When you click on a tab, you want to activate the tab that is clicked on, and deactivate other tabs.

When the tab is deactivated, you want to deemphasize the tab and hide its content.

```css
/* Set inactive tab icons to 25% white to deemphasize the icons*/
.tab-container:not(.is-active) .tab__icon {
  color: rgba(255, 255, 255, 0.25);
}

.tab-content {
  display: none;
}
```

<figure>
  <img src="/images/2017/" alt="">
  <figcaption></figcaption>
</figure>

When the tab is activated, you want to emphasize the tab and show its content.

```css
.tab-container.is-active .tab {
  background-color: #323232;
}

/* I used CSS Grid to style the tab-content,
which is why I set display:grid here. Use
whatever that's right for you */
.tab-content.is-active {
  display: grid;
}
```

<figure>
  <img src="/images/2017/" alt="">
  <figcaption></figcaption>
</figure>

## Changing the tabs manually

You've already styled the active tab and tab-content with CSS, so you should have no problems switching tabs manually by setting the `.is-active` on the right HTML Element.

To activate the second tab, all you need to do is change the `is-active` class to the second tab and the second tab content.

```html
<!-- Activating the second tab by setting is-active
to the second tab and tab content -->
<div class="tab-component">
  <ul>
    <li class="tab"><a href="#">Tab 1</a></li>
    <li class="tab is-active"><a href="#">Tab 2</a></li>
    <li class="tab"><a href="#">Tab 3</a></li>
  </ul>

  <section class="tab-content">Content 1</section>
  <section class="tab-content is-active">Content 2</section>
  <section class="tab-content">Content 3</section>
</div>
```

## Changing the tabs with JavaScript

There are four steps to changing the tabs with JavaScript:

1. Add event listeners to the tabs
2. Find the correct tab and tab content
3. Hide inactive tabs and tab-content
4. Show the selected tab and tab content

Let's go through each of these steps, one by one.

Before continuing further, it makes sense to add JavaScript classes to the elements you want to target:

```html
<!-- Adding JS Classes -->
<div class="tab-component">
  <ul class="jsTabList">
    <li class="tab is-active"><a href="#">Tab 1</a></li>
    <li class="tab"><a href="#">Tab 2</a></li>
    <li class="tab"><a href="#">Tab 3</a></li>
  </ul>

  <section class="tab-content">Content 1</section>
  <section class="tab-content is-active">Content 2</section>
  <section class="tab-content">Content 3</section>
</div>
```

```js
const tabList = document.querySelector('.jsTabList')
```

### Add event listeners to the tabs

Your first step is to add event listener to the tabs. To do this, you can either add an event listener to each tab (the normal way), or you could add a event listener to the parent of the tabs (using event delegation).

In this example, we're going straight for event delegation. You can refer to the lesson on [building accordions](./06.building-accordions.md) and the lesson on [delegation](../04.events/06.event-delegation.md) if you need a refresher on the event delegation pattern.

In the event delegation pattern, you're interested to know when the `<a>` link in the tab is clicked on (you'll find out why in a bit).

```js
tabList.addEventListener('click', e => {
  if (!e.target.matches('a')) { return }

  // 1. Find correct tab to open.
  // 2. Hide previous active tab
  // 3. Open right tab
})
```

```css
.tab > a > * {
  pointer-events: none;
}
```

### Finding the correct tab content

There are two ways to find the right tab content:

1. Through the index of the clicked tab
2. Through the `href` attribute of the clicked tab

Of these two, the second method is better for the tabbed interface. You'll learn about the first method as you build carousels in the next lesson.

If you want to link to the tab content through the `href` attribute, you need to provide an `id` for each tab content.

```html
<!-- Adding JS Classes -->
<div class="tab-component">
  <ul class="jsTabList">
    <li ... ><a href="#tab1">Tab 1</a></li>
    <li ... ><a href="#tab2">Tab 2</a></li>
    <li ... ><a href="#tab3">Tab 3</a></li>
  </ul>

  <section ... id="tab1">Content 1</section>
  <section ... id="tab2">Content 2</section>
  <section ... id="tab3">Content 3</section>
</div>
```

Once you've done so, you can get the `href` value through `Element.getAttribute`.

```js
tabList.addEventListener('click', e => {
  if (!e.target.matches('a')) { return }

  const href = e.target.getAttribute('href')

  console.log(href)
})
```

(In the GIF below, you'll see `#radioactive`, `#flammable` and `#biohazard` instead of `#tab1`, `#tab2` and `#tab3`. It's always better to write href and ids that have meaning).

<figure>
  <img src="/images/2017/" alt="">
  <figcaption></figcaption>
</figure>

Once you have the `href`, you can use `parentNode` and `querySelector` to find the correct tab content.

```js
tabList.addEventListener('click', e => {
  if (!e.target.matches('a')) { return }

  const href = e.target.getAttribute('href')
  const newTabContent = tabList.parentNode.querySelector(href)

  console.log(newTab)
})
```

<figure>
  <img src="/images/2017/" alt="">
  <figcaption></figcaption>
</figure>

Let's move on to the next step

### Hiding the previous tab

You need to find the previous active tab and tab content in order to hide it, and you can do so by searching for the `is-active`.

```js
tabList.addEventListener('click', e => {
  if (!e.target.matches('a')) { return }

  const href = e.target.getAttribute('href')
  const newTabContent = tabList.parentNode.querySelector(href)

  const prevTabAndContent = tabList.parentNode.querySelectorAll('.is-active')
})
```

<figure>
  <img src="/images/2017/" alt="">
  <figcaption></figcaption>
</figure>

Then, you can hide the previous tab and content by looping through the NodeList and removing the `.is-active` class.

```js
tabList.addEventListener('click', e => {
  if (!e.target.matches('a')) { return }

  const href = e.target.getAttribute('href')
  const newTabContent = tabList.parentNode.querySelector(href)

  const prevTabAndContent = tabList.parentNode.querySelectorAll('.is-active')

  // Hide prev tab and content
  prevTabAndContent.forEach(elem => elem.classList.remove('is-active'))
})
```

### Showing the selected tab

To show the selected tab, you need to add the `is-active` class to the new tab and the new tab content.

You have already found the new tab content. What's next is to find the new tab, and you can add `is-active` to both of them.

```js
tabList.addEventListener('click', e => {
  if (!e.target.matches('a')) { return }

  const href = e.target.getAttribute('href')

  // Get new tab
  const newTab = e.target.parentNode
  const newTabContent = tabList.parentNode.querySelector(href)

  const prevTabAndContent = tabList.parentNode.querySelectorAll('.is-active')

  // Hide prev tab and content
  prevTabAndContent.forEach(elem => elem.classList.remove('is-active'))

  // show new tab and tab content
  newTab.classList.add('is-active')
  newTabContent.classList.add('is-active')
})
```

<figure>
  <img src="/images/2017/" alt="">
  <figcaption></figcaption>
</figure>

## Preventing the awkward jump

If your window is smaller than the tabbed component, when you click on the tab, the window jumps to the tab content, cutting away the tab.

<figure>
  <img src="/images/2017/" alt="">
  <figcaption></figcaption>
</figure>

This is because the default behavior for an anchor tag with a href that starts with `#` is the search for the id on the same page. If it is found, the browser should jump to the id.

But since we're already in a tabbed component, the jump is awkward. To prevent this jump, you can add `event.preventDefault` to your event handler.

```js
tabList.addEventListener('click', e => {
  if (!e.target.matches('a')) { return }
  e.preventDefault()

  // The rest of the code
})
```

## Tabs on mobile

Resize and you'll see tabs on mobile. My designer designed them slight differently, but they're still pretty recognizable.

If you don't have icon, and need text, you might want to consider what Heydon does for accessibility on the mobile. Inclusive comp link.




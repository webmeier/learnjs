# Headers

Headers provide additional information about both the request and response. You may need to use this information for some requests, or when debugging your request.

## Viewing headers in developer tools

To view headers in your developer tools, open up the developer tools and click the `network` tab.

<figure>
  <img src="/images/2018/" alt="">
  <figcaption></figcaption>
</figure>

Then, click the resource you fetched.

<figure>
  <img src="/images/2018/" alt="">
  <figcaption></figcaption>
</figure>

You'll be able to see header information

<figure>
  <img src="/images/2018/" alt="">
  <figcaption></figcaption>
</figure>

## Getting headers in JavaScript

Most of the time, we only need to know response headers. The process to getting response headers with XHR and Fetch is slightly different.

## Getting headers with XHR

With XHR, to get response headers with XHR, you use the `getResponseHeader` method. For example, to get the rate limit for Github

```js
request.addEventListener('load', e => {
  const remainingLimit = request.getResponseHeader('x-ratelimit-remaining')
  console.log(remainingLimit)
})

// Results of the log:
//
```

To get all response headers, you use `getAllResponseHeaders`.

```js
request.addEventListener('load', e => {
  const headers = request.getAllResponseHeaders()
  console.log(headers)
})

// Results of the log:
//
```

## Getting headers with Fetch

https://developer.mozilla.org/en-US/docs/Web/API/Headers/Headers

With Fetch, the response headers are hidden inside the `headers` property. Headers Object.

```js
console.log(r.headers)
```

You can get individual headers with the `get` method.

```js
console.log(r.headers.get('x-ratelimit-remaining'))
```

### Loop through Headers

Convert the Headers into an iterable (so you can loop through). You can do this with `entries` method. `Object.entries`

Add Looping through objects in the arrays and loops lesson ba. Then, inform people that they won't loop often. Then, talk about how looping through the entries method.

```js
const headers = {}
for (let [header, value] of r.headers.entries()) {
  headers[header] = value
}
```

```js
const headers = Array.from(r.headers.entries())
  .reduce((o, [header, value]) => {
    return Object.assign({}, o, { [header]: value })
  }, {})
```

Ahem. Then,

### Getting both headers and body

```js
fetch('https://api.github.com/users/zellwk/repos')
  .then(r => {
    const headers = Array.from(r.headers.entries())
      .reduce((o, [header, value]) => {
        return Object.assign({}, o, { [header]: value })
      }, {})

    return r.json()
      .then(body => ({ headers, body }))
  })
  .then(d => {
    console.log(d.headers) // the headers
    console.log(d.body) // the body
  })
```

Okay, so that's how you get to see headers in Fetch. It's a cumbersome process, as you can see. Much more cumbersome compared to XHR.

But well, different methods have different usages. You can't really complain about the implementation. You can only use it.


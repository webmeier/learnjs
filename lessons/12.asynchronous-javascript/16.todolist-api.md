# üõ†Ô∏è Todolist: The Todolist API

When you refresh the tasklist you created in the previous module, you'll notice that all items in the tasklist are gone.

We want to preserve the tasklist. 

To preserve the tasklist, we need an API that lets you: 

1. Get tasks from a database
2. Save tasks to a database 

I created the API for you so you can practice using Ajax in a real-life situation. You'll learn about the API in this lesson. 

## The root endpoint

The root endpoint for the API is:

```
http://api.learnjavascript.today/tasklist
```

## Users

This API contains users (but no authentication). There's a reason for it.

First, you want to build the tasklist independently from other students. The items they entered in their task list should not affect you. (This is why we need users).

Second, there's no login functionality, which means we don't need an authentication (yet). Unfortunately, this also means you can mess with other people's tasks (please don't do this!). 

The following are the possible endpoints:

### Get user

Use this to check if your `username` exists. If it exists, the endpoint will respond with a `username` and an `id`

```
GET /users/:username
```

Example:

```js
zlFetch(`${rootendpoint}/users/zellwk`)
```

Response:

```json
{
  "id": "5b8f7b2613b6e114ab5e5644",
  "username": "zellwk"
}
```

### Create user

You need to create a user to use the tasklist API. The API will create three starting tasks for your user automatically.

```
POST /users
```

Input:

Field      | Type   | Description
\-----------|--------|------------
`username` | String | **Required**. The user's username

Example:

```js
zlFetch(`${rootendpoint}/users`, {
  method: 'post',
  body: {
    username: 'zellwk'
  }
})
```

Response:

The API returns a success message if the request is successful.

```text
'User zellwk created'
```

### Delete user

Deletes the user and the tasks they've created

```
DELETE /users/:username
```

Response:

The API returns a success message if the request is successful.

```text
'User deleted'
```

## Tasks

This what you'll spend most of your time on. There are endpoints for getting tasks, creating a task, editing a task, and also deleting a task.

### Get tasks

Gets a list of tasks the user has created.

```
GET /users/:username/tasks
```

Example:

```
zlFetch(`${rootendpoint}/users/zellwk/tasks`)
```

Response:

```
[{
  id: '5b8f7b2713b6e114ab5e5645'
  task: 'Learn JavaScript for 30 minutes'
  done: false
}]
```

### Create task

Creates a task.

```
POST /users/:username/tasks/
```

Input:

Field  | Type    | Description
\-------|---------|------------
`name` | String  | **Required**. The task
`done` | Boolean | Whether the task completed

Example:

```js
zlFetch(`${rootendpoint}/users/zellwk/tasks`, {
  method: 'post',
  body: { name: 'Learn JavaScript for 30 minutes' }
})
```

Response:

The server will respond with the created task if successful.

```js
{
  "id": "5b8f7b2713b6e114ab5e5645"
  "name": "Learn JavaScript for 30 minutes"
  "done": "false"
}
```

### Update a task

Updates or edits the specified task.

```
PUT /users/:username/tasks/:taskid'
```

Input:

Field  | Type    | Description
\-------|---------|------------
`name` | String  | The task.
`done` | Boolean | Whether the task completed

Note: Both `name` and `done` are optional. If you are editing a task, make sure to change one of them. Otherwise, what's the point in making this request?

Example:

```js
zlFetch(`${rootendpoint}/users/zellwk/tasks/5b8f7b2713b6e114ab5e5645`, {
  method: 'put',
  body: { done: true }
})
```

The server will respond with the edited task if successful:

```js
{
  "id": "5b8f7b2713b6e114ab5e5645",
  "name": "Learn JavaScript for 30 minutes",
  "done": "true"
}
```

### Delete a task

Deletes a specified task

```
DELETE /users/:username/tasks/:taskid'
```

Example:

```js
zlFetch(`${rootendpoint}/users/zellwk/tasks/5b8f7b2713b6e114ab5e5645`, {
  method: 'delete'
})
```

Response:

The server will respond with a message and the deleted task.

```json
{
  "message": "Task deleted",
  "deletedTask": {
    "id": "5b8f7b2713b6e114ab5e5645",
    "name": "Learn JavaScript for 30 minutes",
    "done": "true"
  }
}
```

I can't wait to show you how to use this API. Move on to the next lesson when you're ready! 